<!DOCTYPE html>
<html>
  <head>
    <title>Parcel Sandbox</title>
    <meta charset="UTF-8" />
  </head>

  <body>
    <div style="padding: 1rem;">
      <h2>Iframe</h2>
      <button
        type="button"
        style="
          border: none;
          background-color: #3182ce;
          color: #fff;
          padding: 0.25rem 0.5rem;
        "
        id="sendToWindow"
      >
        Send to window
      </button>
    </div>
    <p id="btn-clicked"></p>
    <script>
      var counter = 1;
      document
        .getElementById("sendToWindow")
        .addEventListener("click", function () {
          document.getElementById("btn-clicked").innerText =
            "counter: " + counter++;

          const message = JSON.stringify({
            message: "Hello from iframe",
            date: Date.now()
          });
          window.parent.postMessage(message, "*");
        });
    </script>
  </body>
</html>
